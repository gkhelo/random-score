import{getDay}from"./time.js";import{updateCount as updateNotificationsCount}from"./notification.js";import{MatchesFilter}from"./matchesfilter.js";export function simulate(){Server.isAvailable?(setInterval(fetchLiveMatches,1e3),setInterval(fetchStandings,6e4),setInterval(fetchNotifications,2e3)):fetchNotifications()}function fetchLiveMatches(){MatchesFilter.getSelectedDay()==getDay()&&fetch("/api/matches/live").then(t=>t.json()).then(t=>{let e=MatchesFilter.getCheckedStatuses();t.forEach(t=>{e.includes(t.status)?Match.update(t):Match.hide(t)})}).catch(t=>{console.log("Error occured during rendering matches:",t)})}function fetchStandings(){fetch("/api/standings").then(t=>t.json()).then(t=>{Standings.update(t)}).catch(t=>{console.log("Error occured during rendering standings:",t)})}function fetchNotifications(){fetch(Server.getUrl("/api/notifications/count")).then(t=>t.json()).then(updateNotificationsCount).catch(t=>console.log("Error occured during fetching notifications:",t))}