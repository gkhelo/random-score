const Popup={show(e,t){let a=document.getElementById("popup-wrapper");null!=a&&document.body.removeChild(a),(a=document.createElement("div")).id="popup-wrapper";let n=document.createElement("div");n.className="popup",n.appendChild(this.createHeader(e)),n.appendChild(t),a.appendChild(n),document.body.appendChild(a)},createHeader(e){let t=document.createElement("div");t.className="popup-header";let a=document.createElement("div");a.className="popup-title",a.innerText=e;let n=document.createElement("div");return n.className="popup-close",n.appendChild(this.createCloseImage()),t.appendChild(a),t.appendChild(n),t},createCloseImage(){let e=document.createElement("img");return e.src="./images/close.png",e.addEventListener("click",()=>{document.body.removeChild(document.getElementById("popup-wrapper"))}),e}},TeamPopup={content(e){let t=document.createElement("div");return"ok"!=e.status?t.innerHTML='\n                <p style="padding-left: 15px">Error occurred during fetching team info</p>\n            ':(t.className="team-info",t.id="team-info",t.innerHTML=`\n                <div class="team-info-logo">\n                    <img src="${e.team.logo}" />\n                </div>\n            `,t.appendChild(this.teamName(e.team)),t.appendChild(this.tabs(e)),t.appendChild(this.defaultTabContent(e))),t},teamName(e){let t=document.createElement("div");return t.className="team-info-name",t.innerHTML=`<div>${e.name}</div>`,t.appendChild(this.star(e)),t},star(e){let t=document.createElement("div");t.className="star-wrapper";let a=document.createElement("img");return e.favourite?a.src="./images/star-selected.png":a.src="./images/star.png",a.addEventListener("click",()=>{e.favourite?(a.src="./images/star.png",e.favourite=!1):(a.src="./images/star-selected.png",e.favourite=!0),Team.updateTeamFavourite(e._id)}),t.appendChild(a),t},tabs(e){let t=document.createElement("div");return t.className="team-info-tabs",t.appendChild(this.tab("Results",this.matchesContent(Match.filter(e.matches,"FINISHED")),!0)),t.appendChild(this.tab("Live",this.matchesContent(Match.filter(e.matches,"INPLAY")),!1)),t.appendChild(this.tab("Fixtures",this.matchesContent(Match.filter(e.matches,"NOT_STARTED")),!1)),t.appendChild(this.tab("Standings",this.standingsContent(e.standings,e.team._id),!1)),t},tab(e,t,a){let n=document.createElement("div");return n.className="team-info-tab",n.innerHTML=e,a&&this.selectTab(n,t),n.addEventListener("click",()=>{this.deselectTab(),this.selectTab(n,t),this.updateTabContent(t)}),n},selectTab(e){e.classList.add("team-info-tab-selected")},deselectTab(){let e=document.getElementsByClassName("team-info-tab");Array.prototype.forEach.call(e,e=>{e.classList.remove("team-info-tab-selected")})},defaultTabContent(e){let t=document.createElement("div");return t.className="team-info-content",t.id="team-info-content",t.appendChild(this.matchesContent(Match.filter(e.matches,"FINISHED"))),t},updateTabContent(e){let t=document.getElementById("team-info-content");t.innerHTML="",t.appendChild(e)},matchesContent(e){let t=document.createElement("div");return e.forEach(e=>{t.appendChild(Match.createSingleMatch(e,!0))}),t},standingsContent(e,t){let a=document.createElement("div");return a.appendChild(Standings.createTable(e,"block",[t])),a}},MatchPreviewPopup={content(e){let t=document.createElement("div");return"ok"!=e.status?t.innerHTML='\n                <p style="padding-left: 15px">Error occurred during fetching match preview</p>\n            ':(t.className="team-info",t.id="team-info",t.innerHTML=`\n                <div class="match-details">\n                    <div class="main-match">\n                        <div class="team-logo-wrapper">\n                            <img src="${e.match.homeTeam.logo}" class="team-logo" id="${e.match.homeTeam.id}">\n                        </div>\n                        <div class="match-status">${e.match.time}</div>\n                        <div class="team-logo-wrapper">\n                            <img src="${e.match.guestTeam.logo}" class="team-logo" id="${e.match.guestTeam.id}">\n                        </div>\n                    </div>\n                </div>\n            `,t.appendChild(this.tabs(e)),t.appendChild(this.defaultTabContent(e))),t},tabs(e){let t=document.createElement("div");return t.className="team-info-tabs",t.appendChild(this.tab("Results",this.matchesContent(e.homeMatches,e.guestMatches),!0)),t.appendChild(this.tab("Standings",this.standingsContent(e.standings,e.match.homeTeam._id,e.match.guestTeam._id),!1)),t},tab(e,t,a){let n=document.createElement("div");return n.className="team-info-tab",n.innerHTML=e,a&&this.selectTab(n,t),n.addEventListener("click",()=>{this.deselectTab(),this.selectTab(n,t),this.updateTabContent(t)}),n},selectTab(e){e.classList.add("team-info-tab-selected")},deselectTab(){let e=document.getElementsByClassName("team-info-tab");Array.prototype.forEach.call(e,e=>{e.classList.remove("team-info-tab-selected")})},defaultTabContent(e){let t=document.createElement("div");return t.className="team-info-content",t.id="team-info-content",t.appendChild(this.matchesContent(e.homeMatches,e.guestMatches)),t},updateTabContent(e){let t=document.getElementById("team-info-content");t.innerHTML="",t.appendChild(e)},matchesContent(e,t){let a=document.createElement("div");a.className="double-matches";let n=document.createElement("div");e.forEach(e=>{n.appendChild(Match.createMiniSingleMatch(e))});let i=document.createElement("div");return t.forEach(e=>{i.appendChild(Match.createMiniSingleMatch(e))}),a.appendChild(n),a.appendChild(i),a},standingsContent(e,t,a){let n=document.createElement("div");return n.appendChild(Standings.createTable(e,"block",[t,a])),n}};